import java.util.Date;

def apiKeys = [
    "DHC-DEV-NL": "1ef8b589-94b8-469c-80f2-fce58ff2dda6",
    "DHC-DEV-ES": "76fcb57e-19a6-47a1-b129-835bb51f6b71",
    "DHC-DEV-IT": "b6d26d40-8b07-4fcb-9add-1bcbe1cebaa2",
    "DHC-INT-NL": "df35330f-e7e7-4c54-b299-265eacb766a0",
    "DHC-INT-ES": "a295b423-4233-4d2c-be83-9934c99cc008",
    "DHC-INT-IT": "b6d26d40-8b07-4fcb-9add-1bcbe1cebaa2",
    "DHC-INT-FR": "421fbab3-63f5-466f-9493-404d82812d12",
    "DHC-INT-BE": "977beeb3-29c6-4bfa-bbe9-d5bb0c373d8a",
    "DHC-PRD-NL": "1ef8b589-94b8-469c-80f2-fce58ff2dda6",
    "DHC-PRD-ES": "76fcb57e-19a6-47a1-b129-835bb51f6b71",
    "DHC-PRD-IT": "b6f79e21-3956-4f42-b85a-7e23d16fc9ce",
    "test-env-NL": "NL_TEST_API_KEY",
    "test-env-ES": "ES_TEST_API_KEY",
    "acceptance-NL": "NL_ACCEPTANCE_API_KEY",
];

def env = body.variables["PROCESS-NAMESPACE"] + "-" + body.variables["CustomerCountry"];

headers.aDateTimeNowTimestamp = (int) (new Date().getTime() / 1000);
headers["CDSApiKey"] = apiKeys[env];

return body;